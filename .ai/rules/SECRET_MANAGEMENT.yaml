# Secret Management Governance

version: 1.0

engine:
  # Use Key/Value Version 2 engine for storing secrets.
  # This provides versioning and soft-delete capabilities.
  type: "kv-v2"
  path: "secret"

access_control:
  - policy: "agent-read-only"
    paths:
      - "secret/data/agent/api_keys/*":
          capabilities: ["read"]
    description: "Policy for agents that only need to read API keys."

  - policy: "agent-full-access"
    paths:
      - "secret/data/agent/*":
          capabilities: ["create", "read", "update", "delete", "list"]
    description: "Policy for agents with full permissions on their own secrets."

  - policy: "human-admin"
    paths:
      - "secret/*":
          capabilities: ["create", "read", "update", "delete", "list", "sudo"]
    description: "Administrative policy for human operators."

guidelines:
  - "NEVER store secrets in the Git repository."
  - "NEVER hardcode secrets in the application source code."
  - "Secrets should be fetched from Vault at runtime by the AgentCore."
  - "All secret access must be logged and audited (default Vault behavior)."
  - "Use short-lived, dynamically generated credentials where possible."
